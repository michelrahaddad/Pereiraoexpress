ğŸ§  VISÃƒO GERAL DA ARQUITETURA

O sistema serÃ¡ dividido em:

Frontend Web Responsivo (PWA Mobile First)

Backend em Clean Architecture

MÃ³dulo de IA para diagnÃ³stico

Sistema de pagamentos com divisÃ£o automÃ¡tica

Marketplace de materiais

A arquitetura deve ser escalÃ¡vel, modular, testÃ¡vel e preparada para apps nativos no futuro.

ğŸ— BACKEND â€” CLEAN ARCHITECTURE + FASTIFY

SeparaÃ§Ã£o total entre regras de negÃ³cio e tecnologia.

ğŸ”µ 1. DOMAIN (NÃšCLEO DO NEGÃ“CIO)

NÃ£o pode depender de frameworks, banco ou HTTP.

Entities principais

User (CLIENT, PROVIDER, ADMIN)

ServiceRequest

ServicePlan

Diagnosis

MaterialSuggestion

Payment

Review

Regras de negÃ³cio

ServiÃ§o sÃ³ inicia com pagamento aprovado

Prestador nÃ£o pode aceitar serviÃ§os simultÃ¢neos no mesmo horÃ¡rio

Cancelamento apÃ³s aceite pode gerar taxa

Fluxo de status controlado

Enums

UserRole

ServiceStatus

ServiceCategory

SLAType

Interfaces (Ports)

UsersRepository

ServiceRequestsRepository

PaymentsRepository

DiagnosisProvider

NotificationProvider

ğŸŸ£ 2. APPLICATION (CASOS DE USO)

Casos de uso independentes de HTTP e banco.

AutenticaÃ§Ã£o

RegisterUser

AuthenticateUser

Cliente

CreateServiceRequest

SendDiagnosisData (texto + fotos)

ReceiveDiagnosisResult

SelectServicePlan

MakePayment

TrackService

LeaveReview

Prestador

ListAvailableServices

AcceptService

UpdateServiceStatus

CompleteService

Admin

ViewReports

ManageUsers

ManageCategories

ManageBasePrices

MonitorAIDiagnoses

ğŸŸ¡ 3. INFRASTRUCTURE

ImplementaÃ§Ãµes tÃ©cnicas.

PostgreSQL

Prisma ORM

Bcrypt (hash)

JWT (auth)

Logger

Armazenamento de imagens (S3 ou similar)

Adapter de IA (texto + imagem â†’ diagnÃ³stico)

ğŸ”´ 4. INTERFACES (HTTP â€” FASTIFY)
Rotas

/auth
/client
/provider
/admin

Regras

Controllers finos

Zod para validaÃ§Ã£o

JWT middleware

Middleware de autorizaÃ§Ã£o por perfil

Endpoint /health

ğŸ§ª TESTES BACKEND

ObrigatÃ³rio criar testes unitÃ¡rios para:

Entidades (regras de negÃ³cio)

Casos de uso crÃ­ticos (auth, criaÃ§Ã£o de serviÃ§o, aceite, SLA)

NÃ£o testar Fastify nem banco.

Framework: Vitest

ğŸ¨ FRONTEND â€” WEB RESPONSIVO + PWA (MOBILE FIRST)

O frontend deve ser construÃ­do como aplicaÃ§Ã£o web responsiva, com foco inicial em telas de celular, mas adaptÃ¡vel para desktop.

Stack

React

TypeScript

Vite

Tailwind CSS

React Router

Axios

Context API (Auth)

ConfiguraÃ§Ã£o como PWA instalÃ¡vel

Estrutura
src/
 â”œâ”€â”€ pages/
 â”‚   â”œâ”€â”€ client/
 â”‚   â”œâ”€â”€ provider/
 â”‚   â””â”€â”€ admin/
 â”œâ”€â”€ components/
 â”œâ”€â”€ contexts/
 â”œâ”€â”€ services/
 â”œâ”€â”€ routes/
 â”œâ”€â”€ hooks/
 â””â”€â”€ styles/

ğŸ“± DIRETRIZES DE DESIGN RESPONSIVO
ğŸ“Œ Mobile First (prioridade)

BotÃµes grandes

NavegaÃ§Ã£o simples

Cards empilhados

Inputs fÃ¡ceis para envio de fotos

Chat com IA estilo WhatsApp

ğŸ’» Desktop

Layout com colunas

Dashboard expandido

Tabelas e relatÃ³rios mais completos (admin)

ğŸ–¥ TELAS POR PERFIL
ğŸ‘¤ CLIENTE

Login / Cadastro

Tela inicial com botÃ£o â€œDescrever problemaâ€

Chat com IA (texto + fotos)

Tela de diagnÃ³stico

Escolha de prazo/preÃ§o (SLA)

Pagamento

Acompanhamento do profissional

AvaliaÃ§Ã£o do serviÃ§o

ğŸ”§ PRESTADOR

Login

ServiÃ§os disponÃ­veis

Detalhes do serviÃ§o

Aceitar serviÃ§o

Atualizar status

HistÃ³rico de ganhos

ğŸ›  ADMIN

Dashboard de mÃ©tricas

RelatÃ³rios financeiros

GestÃ£o de usuÃ¡rios

GestÃ£o de categorias

Monitoramento da IA

ConfiguraÃ§Ã£o de preÃ§os

ğŸ¨ DIRETRIZES VISUAIS

Azul elÃ©trico como cor principal

Amarelo para aÃ§Ãµes importantes

Interface limpa

Linguagem simples e direta

Tom de voz:

Humano, rÃ¡pido e resolutivo
Ex: â€œJÃ¡ estamos chamando um profissional pra vocÃª.â€

ğŸ’³ PAGAMENTOS

Pagamento antes do serviÃ§o

Split automÃ¡tico entre plataforma, prestador e loja de materiais

ğŸ§  DIFERENCIAL

âœ” DiagnÃ³stico com IA
âœ” Plano de execuÃ§Ã£o automÃ¡tico
âœ” SugestÃ£o de materiais
âœ” ConexÃ£o rÃ¡pida com profissional

ğŸ¯ OBJETIVO FINAL

Criar uma plataforma:

Web responsiva e PWA

EscalÃ¡vel

Modular (Clean Architecture)

Preparada para apps nativos no futuro

Com IA integrada ao fluxo principal

Com Ã¡reas separadas para Cliente, Prestador e Admin